<Window x:Class="ProtectedRTC.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Settings - ProtectedRTC" 
        Height="400" 
        Width="500"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">
    
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <TextBlock Grid.Row="0" 
                   Text="Settings" 
                   FontSize="24" 
                   FontWeight="Bold" 
                   Margin="0,0,0,20"/>
        
        <StackPanel Grid.Row="1" Margin="0,0,0,20">
            <TextBlock Text="Web Client URL" FontWeight="SemiBold" Margin="0,0,0,8"/>
            <TextBox x:Name="WebClientUrlTextBox" 
                     Padding="8" 
                     FontSize="14"
                     Text="http://localhost:5000"/>
            <TextBlock Text="The URL where the WebRTC web client is hosted" 
                       FontSize="11" 
                       Foreground="Gray" 
                       Margin="0,4,0,0"/>
        </StackPanel>
        
        <StackPanel Grid.Row="2" Margin="0,0,0,20">
            <TextBlock Text="Capture Protection Status" FontWeight="SemiBold" Margin="0,0,0,8"/>
            <Border Background="#f0f0f0" Padding="12" CornerRadius="4">
                <StackPanel>
                    <TextBlock x:Name="ProtectionStatusTextBlock" 
                               Text="Protection Status: Checking..." 
                               FontSize="13"
                               Margin="0,0,0,8"/>
                    <TextBlock Text="Requirements:" 
                               FontSize="12" 
                               FontWeight="SemiBold"
                               Margin="0,4,0,4"/>
                    <TextBlock Text="• Windows 10 (version 2004+) or Windows 11" 
                               FontSize="11" 
                               Foreground="Gray"/>
                    <TextBlock Text="• Administrator privileges (recommended)" 
                               FontSize="11" 
                               Foreground="Gray"/>
                </StackPanel>
            </Border>
        </StackPanel>
        
        <StackPanel Grid.Row="3" Margin="0,0,0,20">
            <TextBlock Text="About ProtectedRTC" FontWeight="SemiBold" Margin="0,0,0,8"/>
            <TextBlock TextWrapping="Wrap" FontSize="12" Foreground="Gray">
                ProtectedRTC uses Windows API SetWindowDisplayAffinity to exclude this window 
                from screen capture. When active, screenshot tools and screen sharing apps 
                will show this window as black or completely exclude it.
            </TextBlock>
        </StackPanel>
        
        <StackPanel Grid.Row="5" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button Content="Save &amp; Reload" 
                    Width="120" 
                    Height="32" 
                    Margin="0,0,10,0"
                    Click="SaveButton_Click"
                    Background="#667eea"
                    Foreground="White"
                    BorderThickness="0"
                    Cursor="Hand"/>
            <Button Content="Close" 
                    Width="80" 
                    Height="32"
                    Click="CloseButton_Click"
                    Cursor="Hand"/>
        </StackPanel>
    </Grid>
</Window>
